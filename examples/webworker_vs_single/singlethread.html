<html>
<head>
<script type="text/javascript" src='http://get.goxtk.com/xtk.js'></script>

<script type="text/javascript" src="../../bin/xio.js"></script>
<script type="text/javascript">
  function load_data() {

    console.log('SINGLETHREAD LOADING');    
    
    console.time('twelve_other_volumes');

    // start the workers
    for ( var i = 0; i < 12; i++) {

      //console.log('http://x.babymri.org/?' + (i + 24) + '/template.nii');
      X.io.load('http://x.babymri.org/?' + (i + 24) + '/template.nii');

    }

    X.io.onloading = function(id, percentage) {
      
      //if (!id) console.log(percentage);
      
    }
    
    X.io.oncomplete = function() {

      console.timeEnd('twelve_other_volumes');

    }

  }

  window.onload = function() {
    

    load_data();
    
    console.time('first_volume');
    var r = new X.renderer3D();
    r.init();
    
    var f = new X.volume();
    f.file = 'http://x.babymri.org/?23/template.nii';
    
    r.add(f);
    r.render();
        
    r.onShowtime = function() {
      console.timeEnd('first_volume');
    }
    
    
  }
  
</script>

</head>
<body id='body'>

</body>
</html>